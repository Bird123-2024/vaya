# @vercel/functions

## Table of contents

### Interfaces

- [Geo](interfaces/Geo.md)

### Variables

- [CITY_HEADER_NAME](README.md#city_header_name)
- [COUNTRY_HEADER_NAME](README.md#country_header_name)
- [EMOJI_FLAG_UNICODE_STARTING_POSITION](README.md#emoji_flag_unicode_starting_position)
- [IP_HEADER_NAME](README.md#ip_header_name)
- [LATITUDE_HEADER_NAME](README.md#latitude_header_name)
- [LONGITUDE_HEADER_NAME](README.md#longitude_header_name)
- [REGION_HEADER_NAME](README.md#region_header_name)
- [REQUEST_ID_HEADER_NAME](README.md#request_id_header_name)
- [SYMBOL_FOR_REQ_CONTEXT](README.md#symbol_for_req_context)

### Functions

- [geolocation](README.md#geolocation)
- [ipAddress](README.md#ipaddress)
- [waitUntil](README.md#waituntil)

## Variables

### CITY_HEADER_NAME

• `Const` **CITY_HEADER_NAME**: `"x-vercel-ip-city"`

City of the original client IP as calculated by Vercel Proxy.

#### Defined in

[headers.ts:4](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L4)

---

### COUNTRY_HEADER_NAME

• `Const` **COUNTRY_HEADER_NAME**: `"x-vercel-ip-country"`

Country of the original client IP as calculated by Vercel Proxy.

#### Defined in

[headers.ts:8](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L8)

---

### EMOJI_FLAG_UNICODE_STARTING_POSITION

• `Const` **EMOJI_FLAG_UNICODE_STARTING_POSITION**: `127397`

Unicode characters for emoji flags start at this number, and run up to 127469.

#### Defined in

[headers.ts:34](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L34)

---

### IP_HEADER_NAME

• `Const` **IP_HEADER_NAME**: `"x-real-ip"`

Client IP as calculated by Vercel Proxy.

#### Defined in

[headers.ts:12](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L12)

---

### LATITUDE_HEADER_NAME

• `Const` **LATITUDE_HEADER_NAME**: `"x-vercel-ip-latitude"`

Latitude of the original client IP as calculated by Vercel Proxy.

#### Defined in

[headers.ts:16](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L16)

---

### LONGITUDE_HEADER_NAME

• `Const` **LONGITUDE_HEADER_NAME**: `"x-vercel-ip-longitude"`

Longitude of the original client IP as calculated by Vercel Proxy.

#### Defined in

[headers.ts:20](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L20)

---

### REGION_HEADER_NAME

• `Const` **REGION_HEADER_NAME**: `"x-vercel-ip-country-region"`

Country region of the original client IP calculated by Vercel Proxy.

See [docs](https://vercel.com/docs/concepts/edge-network/headers#x-vercel-ip-country-region).

#### Defined in

[headers.ts:26](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L26)

---

### REQUEST_ID_HEADER_NAME

• `Const` **REQUEST_ID_HEADER_NAME**: `"x-vercel-id"`

The request ID for each request generated by Vercel Proxy.

#### Defined in

[headers.ts:30](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L30)

---

### SYMBOL_FOR_REQ_CONTEXT

• `Const` **SYMBOL_FOR_REQ_CONTEXT**: typeof [`SYMBOL_FOR_REQ_CONTEXT`](README.md#symbol_for_req_context)

#### Defined in

[wait-until.ts:5](https://github.com/vercel/vercel/blob/main/packages/functions/src/wait-until.ts#L5)

## Functions

### geolocation

▸ **geolocation**(`request`): [`Geo`](interfaces/Geo.md)

Returns the location information for the incoming request.

**`See`**

- [CITY_HEADER_NAME](README.md#city_header_name)
- [COUNTRY_HEADER_NAME](README.md#country_header_name)
- [REGION_HEADER_NAME](README.md#region_header_name)
- [LATITUDE_HEADER_NAME](README.md#latitude_header_name)
- [LONGITUDE_HEADER_NAME](README.md#longitude_header_name)

#### Parameters

| Name      | Type      | Description                                                     |
| :-------- | :-------- | :-------------------------------------------------------------- |
| `request` | `Request` | The incoming request object which provides the geolocation data |

#### Returns

[`Geo`](interfaces/Geo.md)

#### Defined in

[headers.ts:128](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L128)

---

### ipAddress

▸ **ipAddress**(`request`): `string` \| `undefined`

Returns the IP address of the request from the headers.

**`See`**

[IP_HEADER_NAME](README.md#ip_header_name)

#### Parameters

| Name      | Type      | Description                                       |
| :-------- | :-------- | :------------------------------------------------ |
| `request` | `Request` | The incoming request object which provides the IP |

#### Returns

`string` \| `undefined`

#### Defined in

[headers.ts:99](https://github.com/vercel/vercel/blob/main/packages/functions/src/headers.ts#L99)

---

### waitUntil

▸ **waitUntil**(`promise`): `undefined` \| `void`

Extends the lifetime of the request handler for the lifetime of the given Promise

**`See`**

https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent/waitUntil

**`Example`**

```
import { waitUntil } from '@vercel/functions';

export function GET(request) {
  waitUntil(fetch('https://vercel.com'));
  return new Response('OK');
}
```

#### Parameters

| Name      | Type                                                                                                              | Description              |
| :-------- | :---------------------------------------------------------------------------------------------------------------- | :----------------------- |
| `promise` | [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<`unknown`\> | The promise to wait for. |

#### Returns

`undefined` \| `void`

#### Defined in

[wait-until.ts:23](https://github.com/vercel/vercel/blob/main/packages/functions/src/wait-until.ts#L23)
